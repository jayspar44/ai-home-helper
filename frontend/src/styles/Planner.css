/* ========================================
   ROSCOE MEAL PLANNER - COMPONENT STYLES
   ========================================

   Component Hierarchy:
   - PlannerPage (main container)
     ├── PlannerSidebar (desktop only, lg+)
     │   ├── WeekView (calendar with meal dots)
     │   └── Stats/Actions sections
     ├── WeekView (mobile only, <1024px)
     └── DaySection (meal feed, scrollable)
         └── MealCard (individual meal entries)

   Responsive Breakpoints:
   - Mobile: < 1024px (lg)
     - Stacked layout: WeekView → DaySection
     - WeekView gets card styling
     - Floating action button (FAB) for add

   - Desktop: ≥ 1024px (lg+)
     - Sidebar layout: PlannerSidebar (30%) | DaySection (70%)
     - WeekView inside PlannerSidebar card
     - Add button in sidebar

   Design Tokens Used:
   - Colors: --bg-card, --bg-primary/secondary/tertiary
   - Spacing: --spacing-1 through --spacing-4
   - Borders: --border-light, --radius-md/lg
   - Transitions: --transition-fast

   State-Based Styling:
   - .is-today: Highlighted current day
   - .has-meals: Days with scheduled meals
   - .meal-dot.planned: Planned meal indicator
   - .meal-dot.completed: Completed meal indicator
   - .empty-day-card: Empty state with hover effect

   ======================================== */

/* ===== WEEK VIEW CALENDAR ===== */
.week-view {
  /* Default: no background (when inside sidebar-card on desktop) */
}

/* On mobile, WeekView needs its own card styling */
@media (max-width: 1023px) {
  .week-view {
    background-color: var(--bg-card);
    border-radius: var(--radius-lg);
    padding: var(--spacing-2);
    border: 1px solid var(--border-light);
  }
}

.week-view-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-2);
}

.week-view-range {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--text-primary);
}

.week-view-nav {
  display: flex;
  gap: 8px;
}

.week-view-nav button {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-light);
  color: var(--text-primary);
  cursor: pointer;
  padding: 6px 10px;
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
}

.week-view-nav button:hover {
  background-color: var(--bg-card);
  border-color: var(--color-primary);
  color: var(--color-primary);
  transform: scale(1.05);
}

.week-view-nav button:active {
  transform: scale(0.95);
}

.week-view-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
}

.week-view-day {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px 4px;
  border-radius: var(--radius-md);
  cursor: pointer;
  position: relative;
  transition: background-color var(--transition-fast);
}

.week-view-day:hover {
  background-color: var(--bg-tertiary);
}

.week-view-day.today {
  background-color: var(--color-primary);
  color: white;
}

.week-view-day.has-meals {
  color: var(--text-primary);
}

.week-view-day-label {
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 4px;
}

.week-view-day.today .week-view-day-label {
  color: white;
}

.week-view-day-number {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 4px;
}

.week-view-day.today .week-view-day-number {
  color: white;
}

/* ===== MINI CALENDAR (Deprecated - keeping for mobile fallback) ===== */
.mini-calendar {
  background-color: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: var(--spacing-2);
  border: 1px solid var(--border-light);
}

.mini-calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-2);
}

.mini-calendar-month {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--text-primary);
}

.mini-calendar-nav {
  display: flex;
  gap: 10px;
}

.mini-calendar-nav button {
  background: transparent;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  transition: color var(--transition-fast), background-color var(--transition-fast);
}

.mini-calendar-nav button:hover {
  color: var(--text-primary);
  background-color: var(--bg-tertiary);
}

.mini-calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
}

.mini-calendar-day-label {
  text-align: center;
  font-size: var(--text-xs);
  color: var(--text-muted);
  padding: 4px;
  font-weight: 600;
}

.mini-calendar-day {
  aspect-ratio: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  cursor: pointer;
  position: relative;
  font-size: var(--text-sm);
  color: var(--text-secondary);
  transition: background-color var(--transition-fast), color var(--transition-fast);
}

.mini-calendar-day:hover {
  background-color: var(--bg-tertiary);
}

.mini-calendar-day.today {
  background-color: var(--color-primary);
  color: white;
  font-weight: 600;
}

.mini-calendar-day.has-meals {
  color: var(--text-primary);
  font-weight: 500;
}

.meal-dots {
  display: flex;
  gap: 2px;
  position: absolute;
  bottom: 3px;
}

.meal-dot {
  width: 4px;
  height: 4px;
  border-radius: 50%;
}

/* Planned meals - teal/primary color */
.meal-dot.planned {
  background-color: var(--color-primary);
}

/* Completed meals - green */
.meal-dot.completed {
  background-color: var(--color-success);
}

/* On today, make dots white for visibility */
.mini-calendar-day.today .meal-dot,
.week-view-day.today .meal-dot {
  background-color: white;
}

/* ===== SIDEBAR SECTIONS ===== */
.sidebar-section {
  margin-bottom: var(--spacing-4);
}

.sidebar-section-title {
  font-size: var(--text-xs);
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: var(--spacing-2);
}

/* Card container for sidebar sections */
.sidebar-card {
  background-color: var(--bg-card);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: var(--spacing-3);
}

.quick-stats {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.stat-card {
  background-color: var(--bg-tertiary);
  border-radius: var(--radius-md);
  padding: 12px;
  border: 1px solid var(--border-light);
}

.stat-value {
  font-size: var(--text-2xl);
  font-weight: 700;
  color: var(--color-primary);
  margin-bottom: 2px;
}

.stat-label {
  font-size: var(--text-xs);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.upcoming-meals {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.upcoming-meal-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.upcoming-meal-item:hover {
  background-color: var(--bg-secondary);
}

.upcoming-meal-item:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

.upcoming-meal-icon {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-md);
  background-color: var(--bg-tertiary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}

.upcoming-meal-info {
  flex: 1;
  min-width: 0;
}

.upcoming-meal-name {
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.upcoming-meal-time {
  font-size: var(--text-xs);
  color: var(--text-muted);
}

/* ===== DAY SECTION ===== */
.day-section {
  margin-bottom: var(--spacing-4);
}

.day-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border-light);
}

.day-title {
  font-size: var(--text-lg);
  font-weight: 600;
  color: var(--text-primary);
}

.day-date {
  font-size: var(--text-sm);
  color: var(--text-muted);
  margin-left: 8px;
}

.add-meal-btn {
  background: transparent;
  border: 1px dashed var(--color-primary);
  color: var(--color-primary);
  padding: 6px 12px;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: var(--text-sm);
  display: flex;
  align-items: center;
  gap: 4px;
  transition: background-color var(--transition-fast), border-color var(--transition-fast);
  font-weight: 500;
}

.add-meal-btn:hover {
  background-color: rgba(52, 211, 153, 0.1);
  border-color: var(--color-primary-dark);
}

.empty-day {
  text-align: center;
  padding: var(--spacing-3);
  color: var(--text-muted);
  font-size: var(--text-sm);
  border: 1px dashed var(--border-medium);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: border-color var(--transition-fast), color var(--transition-fast);
}

.empty-day:hover {
  border-color: var(--color-primary);
  color: var(--color-primary);
}

/* ===== MEAL CARD ===== */
.meal-card {
  background-color: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: 12px;
  margin-bottom: 8px;
  display: flex;
  gap: 12px;
  align-items: center;
  border: 1px solid var(--border-light);
  cursor: pointer;
  transition: background-color var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast);
}

.meal-card:hover {
  background-color: var(--bg-tertiary);
  border-color: var(--color-primary);
  transform: translateY(-1px);
}

.meal-card.completed {
  border-left: 4px solid var(--color-success);
  background-color: rgba(34, 197, 94, 0.05);
}

.meal-card.planned {
  border-left: 4px solid var(--color-primary);
  background-color: rgba(52, 211, 153, 0.05);
}

.meal-icon {
  width: 50px;
  height: 50px;
  border-radius: var(--radius-lg);
  background-color: var(--bg-tertiary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  flex-shrink: 0;
}

.meal-info {
  flex: 1;
  min-width: 0;
}

.meal-type {
  font-size: var(--text-xs);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 2px;
}

.meal-name {
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.meal-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}


/* ===== RESPONSIVE LAYOUT ===== */

/* Desktop: 2-column feed */
@media (min-width: 1024px) {
  .desktop-columns {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-4);
  }
}
